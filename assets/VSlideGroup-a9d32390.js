import{a9 as y,J as Z,f as S,bR as ee,p as te,W as B,m as le,bW as ae,a as ne,bT as se,g as oe,ax as ue,az as ie,aW as re,aB as H,br as ce,Z as ve,b as fe,c as h,af as G,Q as W,bo as de,an as me}from"./index-c489ac70.js";function ge(){const l=y(!1);return Z(()=>{window.requestAnimationFrame(()=>{l.value=!0})}),{ssrBootStyles:S(()=>l.value?void 0:{transition:"none !important"}),isBooted:ee(l)}}function $(l){const s=Math.abs(l);return Math.sign(l)*(s/((1/.501-2)*(1-s)+1))}function q(l){let{selectedElement:f,containerSize:s,contentSize:i,isRtl:x,currentScrollOffset:c,isHorizontal:n}=l;const o=n?f.clientWidth:f.clientHeight,t=n?f.offsetLeft:f.offsetTop,r=x&&n?i-t-o:t,v=s+c,u=o+r,g=o*.4;return r<=c?c=Math.max(r-g,0):v<=u&&(c=Math.min(c-(v-u-g),i-s)),c}function pe(l){let{selectedElement:f,containerSize:s,contentSize:i,isRtl:x,isHorizontal:c}=l;const n=c?f.clientWidth:f.clientHeight,o=c?f.offsetLeft:f.offsetTop,t=x&&c?i-o-n/2-s/2:o+n/2-s/2;return Math.min(i-s,Math.max(0,t))}const he=Symbol.for("vuetify:v-slide-group"),Se=te({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:he},nextIcon:{type:B,default:"$next"},prevIcon:{type:B,default:"$prev"},showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||["always","desktop","mobile"].includes(l)},...le(),...ae(),...ne(),...se({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),be=oe()({name:"VSlideGroup",props:Se(),emits:{"update:modelValue":l=>!0},setup(l,f){let{slots:s}=f;const{isRtl:i}=ue(),{displayClasses:x,mobile:c}=ie(l),n=re(l,l.symbol),o=y(!1),t=y(0),r=y(0),v=y(0),u=S(()=>l.direction==="horizontal"),{resizeRef:g,contentRect:R}=H(),{resizeRef:d,contentRect:k}=H(),P=S(()=>n.selected.value.length?n.items.value.findIndex(e=>e.id===n.selected.value[0]):-1),L=S(()=>n.selected.value.length?n.items.value.findIndex(e=>e.id===n.selected.value[n.selected.value.length-1]):-1);if(ce){let e=-1;ve(()=>[n.selected.value,R.value,k.value,u.value],()=>{cancelAnimationFrame(e),e=requestAnimationFrame(()=>{if(R.value&&k.value){const a=u.value?"width":"height";r.value=R.value[a],v.value=k.value[a],o.value=r.value+1<v.value}if(P.value>=0&&d.value){const a=d.value.children[L.value];P.value===0||!o.value?t.value=0:l.centerActive?t.value=pe({selectedElement:a,containerSize:r.value,contentSize:v.value,isRtl:i.value,isHorizontal:u.value}):o.value&&(t.value=q({selectedElement:a,containerSize:r.value,contentSize:v.value,isRtl:i.value,currentScrollOffset:t.value,isHorizontal:u.value}))}})})}const z=y(!1);let I=0,_=0;function D(e){const a=u.value?"clientX":"clientY";_=(i.value&&u.value?-1:1)*t.value,I=e.touches[0][a],z.value=!0}function N(e){if(!o.value)return;const a=u.value?"clientX":"clientY",m=i.value&&u.value?-1:1;t.value=m*(_+I-e.touches[0][a])}function X(e){const a=v.value-r.value;t.value<0||!o.value?t.value=0:t.value>=a&&(t.value=a),z.value=!1}function Y(){g.value&&(g.value[u.value?"scrollLeft":"scrollTop"]=0)}const w=y(!1);function K(e){if(w.value=!0,!(!o.value||!d.value)){for(const a of e.composedPath())for(const m of d.value.children)if(m===a){t.value=q({selectedElement:m,containerSize:r.value,contentSize:v.value,isRtl:i.value,currentScrollOffset:t.value,isHorizontal:u.value});return}}}function U(e){w.value=!1}function j(e){var a;!w.value&&!(e.relatedTarget&&((a=d.value)!=null&&a.contains(e.relatedTarget)))&&p()}function J(e){d.value&&(u.value?e.key==="ArrowRight"?p(i.value?"prev":"next"):e.key==="ArrowLeft"&&p(i.value?"next":"prev"):e.key==="ArrowDown"?p("next"):e.key==="ArrowUp"&&p("prev"),e.key==="Home"?p("first"):e.key==="End"&&p("last"))}function p(e){var a,m,M,V,E;if(d.value)if(!e)(a=de(d.value)[0])==null||a.focus();else if(e==="next"){const b=(m=d.value.querySelector(":focus"))==null?void 0:m.nextElementSibling;b?b.focus():p("first")}else if(e==="prev"){const b=(M=d.value.querySelector(":focus"))==null?void 0:M.previousElementSibling;b?b.focus():p("last")}else e==="first"?(V=d.value.firstElementChild)==null||V.focus():e==="last"&&((E=d.value.lastElementChild)==null||E.focus())}function T(e){const a=t.value+(e==="prev"?-1:1)*r.value;t.value=me(a,0,v.value-r.value)}const Q=S(()=>{let e=t.value>v.value-r.value?-(v.value-r.value)+$(v.value-r.value-t.value):-t.value;t.value<=0&&(e=$(-t.value));const a=i.value&&u.value?-1:1;return{transform:`translate${u.value?"X":"Y"}(${a*e}px)`,transition:z.value?"none":"",willChange:z.value?"transform":""}}),O=S(()=>({next:n.next,prev:n.prev,select:n.select,isSelected:n.isSelected})),A=S(()=>{switch(l.showArrows){case"always":return!0;case"desktop":return!c.value;case!0:return o.value||Math.abs(t.value)>0;case"mobile":return c.value||o.value||Math.abs(t.value)>0;default:return!c.value&&(o.value||Math.abs(t.value)>0)}}),C=S(()=>Math.abs(t.value)>0),F=S(()=>v.value>Math.abs(t.value)+r.value);return fe(()=>h(l.tag,{class:["v-slide-group",{"v-slide-group--vertical":!u.value,"v-slide-group--has-affixes":A.value,"v-slide-group--is-overflowing":o.value},x.value,l.class],style:l.style,tabindex:w.value||n.selected.value.length?-1:0,onFocus:j},{default:()=>{var e,a,m;return[A.value&&h("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!C.value}],onClick:()=>C.value&&T("prev")},[((e=s.prev)==null?void 0:e.call(s,O.value))??h(G,null,{default:()=>[h(W,{icon:i.value?l.nextIcon:l.prevIcon},null)]})]),h("div",{key:"container",ref:g,class:"v-slide-group__container",onScroll:Y},[h("div",{ref:d,class:"v-slide-group__content",style:Q.value,onTouchstartPassive:D,onTouchmovePassive:N,onTouchendPassive:X,onFocusin:K,onFocusout:U,onKeydown:J},[(a=s.default)==null?void 0:a.call(s,O.value)])]),A.value&&h("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!F.value}],onClick:()=>F.value&&T("next")},[((m=s.next)==null?void 0:m.call(s,O.value))??h(G,null,{default:()=>[h(W,{icon:i.value?l.prevIcon:l.nextIcon},null)]})])]}})),{selected:n.selected,scrollTo:T,scrollOffset:t,focus:p}}});export{be as V,Se as m,ge as u};
